<% breadcrumb :messages %>

  <table class="table table-hover messages">
    <thead>
      <tr>
        <th style="width:5%">Order</th>
        <th style="width:10%">Message Type</th>
        <th style="width:20%">Timestamp</th>
        <th style="width:10%">Source</th>
		    <th style="width:10%">AuditOperation</th>
		    <th style="width:10%">User</th>
        <th style="width:35%">Message</th>
      </tr>
    </thead>

    <tbody>
      <% @messages.each do |message| %>
        <tr <%= contextual_class(message) %> data-type="<%= message.MessageType %>" data-message="<%= message.MessageID %>" data-source="<%= source_application %>">
          <td>
            <%= message.MessageOrder %>
          </td>
          <td>
            <%= message.MessageType %>
          </td>
          <td>
            <%= message.MessageTimestamp.strftime("%Y/%d/%m %H:%M:%S") %>
          </td>
          <td>
            <%= message.SourceLogger %>
          </td>
	         <td>
            <%= truncate message.AuditOperation, length:100 %>
          </td>
          <td>
            <%= message.UserName %>
          </td>
          <td>
            <%= truncate message.Message, length:100 %>
          </td>
        <% end %>
    </tbody>

  </table>

  <%= will_paginate @messages %>
